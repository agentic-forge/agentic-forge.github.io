<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 200">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="750" height="200" fill="none"/>

  <!-- Title -->
  <text x="375" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#e2e8f0">Tool Call Flow</text>

  <!-- Step 1: Client -->
  <rect x="20" y="60" width="90" height="55" rx="6" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="65" y="82" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#93c5fd">AI Agent</text>
  <text x="65" y="98" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#60a5fa">MCP Client</text>

  <!-- Arrow 1 -->
  <line x1="110" y1="87" x2="150" y2="87" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="130" y="78" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">tools/call</text>

  <!-- Step 2: Gateway -->
  <rect x="160" y="50" width="110" height="75" rx="6" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="215" y="72" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#c4b5fd">Armory</text>
  <text x="215" y="88" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#a5b4fc">/mcp endpoint</text>
  <text x="215" y="115" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">weather__get_forecast</text>

  <!-- Arrow 2 -->
  <line x1="270" y1="87" x2="310" y2="87" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="290" y="78" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">lookup</text>

  <!-- Step 3: Tool Registry -->
  <rect x="320" y="60" width="100" height="55" rx="6" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="370" y="82" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Tool Registry</text>
  <text x="370" y="98" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#a5b4fc">find backend</text>

  <!-- Arrow 3 -->
  <line x1="420" y1="87" x2="460" y2="87" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="440" y="78" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">route</text>

  <!-- Step 4: Backend -->
  <rect x="470" y="60" width="100" height="55" rx="6" fill="#064e3b" stroke="#10b981" stroke-width="1.5"/>
  <text x="520" y="82" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#a7f3d0">weather</text>
  <text x="520" y="98" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#6ee7b7">get_forecast</text>

  <!-- Arrow 4 -->
  <line x1="570" y1="87" x2="610" y2="87" stroke="#10b981" stroke-width="2" marker-end="url(#arrow-green)"/>
  <text x="590" y="78" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">result</text>

  <!-- Step 5: Metrics -->
  <rect x="620" y="60" width="100" height="55" rx="6" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="670" y="82" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Metrics</text>
  <text x="670" y="98" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#a5b4fc">log latency</text>

  <!-- Return path -->
  <path d="M 670 115 L 670 155 L 65 155 L 65 115" stroke="#10b981" stroke-width="1.5" stroke-dasharray="4,2" fill="none" marker-end="url(#arrow-green)"/>
  <text x="370" y="170" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#6ee7b7">response returned to client</text>
</svg>