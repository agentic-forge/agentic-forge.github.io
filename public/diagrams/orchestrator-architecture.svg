<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 320">
  <defs>
    <marker id="arch-arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6"/>
    </marker>
    <marker id="arch-arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
    <marker id="arch-arrow-orange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="750" height="320" fill="none"/>

  <!-- Title -->
  <text x="375" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#e2e8f0">Multi-Provider Architecture</text>

  <!-- UI/Client -->
  <rect x="40" y="90" width="100" height="70" rx="8" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="90" y="120" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#93c5fd">Chat UI</text>
  <text x="90" y="140" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#60a5fa">forge-ui</text>

  <!-- Arrow to Orchestrator -->
  <line x1="140" y1="125" x2="195" y2="125" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arch-arrow)"/>
  <text x="167" y="115" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">SSE</text>

  <!-- Orchestrator -->
  <rect x="205" y="70" width="150" height="110" rx="8" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="280" y="100" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#c4b5fd">Orchestrator</text>
  <text x="280" y="120" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#a5b4fc">Agent Loop</text>
  <line x1="225" y1="135" x2="335" y2="135" stroke="#4c1d95" stroke-width="1"/>
  <text x="280" y="155" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">Pydantic AI</text>
  <text x="280" y="170" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">Model Router</text>

  <!-- LLM Providers section -->
  <text x="555" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="500" fill="#94a3b8">LLM Providers</text>

  <!-- Arrows to LLM providers -->
  <path d="M 355 100 L 420 100 L 420 80 L 470 80" stroke="#8b5cf6" stroke-width="1.5" fill="none" marker-end="url(#arch-arrow)"/>
  <path d="M 355 125 L 470 125" stroke="#8b5cf6" stroke-width="1.5" fill="none" marker-end="url(#arch-arrow)"/>

  <!-- Provider boxes -->
  <rect x="480" y="55" width="150" height="50" rx="6" fill="#064e3b" stroke="#10b981" stroke-width="1.5"/>
  <text x="555" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#a7f3d0">OpenRouter</text>
  <text x="555" y="92" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#6ee7b7">200+ models (universal fallback)</text>

  <rect x="480" y="115" width="150" height="40" rx="6" fill="#1e1b4b" stroke="#a78bfa" stroke-width="1.5"/>
  <text x="555" y="132" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Direct APIs</text>
  <text x="555" y="147" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#a5b4fc">OpenAI, Anthropic, Google</text>

  <!-- MCP/Tools section -->
  <text x="555" y="185" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="500" fill="#94a3b8">MCP Tools</text>

  <!-- Arrow to Armory (bidirectional feel) -->
  <path d="M 355 150 L 420 150 L 420 215 L 470 215" stroke="#f59e0b" stroke-width="2" fill="none" marker-end="url(#arch-arrow-orange)"/>
  <text x="390" y="185" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#fbbf24">tools/call</text>

  <!-- Armory box -->
  <rect x="480" y="195" width="150" height="55" rx="6" fill="#451a03" stroke="#f59e0b" stroke-width="2"/>
  <text x="555" y="217" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#fcd34d">Armory</text>
  <text x="555" y="235" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#fbbf24">MCP Gateway</text>

  <!-- Arrows from Armory to MCP servers -->
  <line x1="630" y1="222" x2="670" y2="222" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arch-arrow-orange)"/>

  <!-- MCP Servers -->
  <rect x="680" y="195" width="55" height="55" rx="4" fill="#1e1b4b" stroke="#f59e0b" stroke-width="1"/>
  <text x="707" y="215" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fcd34d">MCP</text>
  <text x="707" y="227" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fcd34d">Servers</text>
  <text x="707" y="242" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#a5b4fc">weather</text>

  <!-- Legend -->
  <g transform="translate(40, 275)">
    <line x1="0" y1="0" x2="30" y2="0" stroke="#8b5cf6" stroke-width="2"/>
    <text x="40" y="4" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">LLM requests</text>

    <line x1="150" y1="0" x2="180" y2="0" stroke="#f59e0b" stroke-width="2"/>
    <text x="190" y="4" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">Tool calls (MCP)</text>
  </g>

  <text x="40" y="305" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">Stateless: Each request includes full conversation history</text>
</svg>