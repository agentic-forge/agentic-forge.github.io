<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 280">
  <defs>
    <marker id="sse-arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6"/>
    </marker>
    <marker id="sse-arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="750" height="280" fill="none"/>

  <!-- Title -->
  <text x="375" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#e2e8f0">SSE Event Flow</text>

  <!-- Timeline bar -->
  <line x1="50" y1="100" x2="700" y2="100" stroke="#4c1d95" stroke-width="2"/>

  <!-- Event nodes -->
  <!-- Token events -->
  <circle cx="100" cy="100" r="20" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="100" y="105" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#c4b5fd">token</text>
  <text x="100" y="140" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">streaming</text>
  <text x="100" y="152" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">text</text>

  <!-- Thinking events -->
  <circle cx="200" cy="100" r="20" fill="#1e1b4b" stroke="#a78bfa" stroke-width="2"/>
  <text x="200" y="105" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#c4b5fd">thinking</text>
  <text x="200" y="140" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">reasoning</text>
  <text x="200" y="152" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">output</text>

  <!-- Tool call event -->
  <circle cx="320" cy="100" r="22" fill="#451a03" stroke="#f59e0b" stroke-width="2"/>
  <text x="320" y="98" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fcd34d">tool</text>
  <text x="320" y="108" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fcd34d">call</text>
  <text x="320" y="140" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fbbf24">pending →</text>
  <text x="320" y="152" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fbbf24">executing</text>

  <!-- Tool result event -->
  <circle cx="440" cy="100" r="22" fill="#064e3b" stroke="#10b981" stroke-width="2"/>
  <text x="440" y="98" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#a7f3d0">tool</text>
  <text x="440" y="108" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#a7f3d0">result</text>
  <text x="440" y="140" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6ee7b7">result +</text>
  <text x="440" y="152" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6ee7b7">latency</text>

  <!-- More tokens -->
  <circle cx="540" cy="100" r="20" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="540" y="105" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#c4b5fd">token</text>
  <text x="540" y="140" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">continue</text>
  <text x="540" y="152" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">response</text>

  <!-- Complete event -->
  <circle cx="650" cy="100" r="22" fill="#064e3b" stroke="#10b981" stroke-width="2"/>
  <text x="650" y="98" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#a7f3d0">com-</text>
  <text x="650" y="108" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#a7f3d0">plete</text>
  <text x="650" y="140" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6ee7b7">final text</text>
  <text x="650" y="152" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6ee7b7">+ usage</text>

  <!-- Arrow annotations -->
  <text x="150" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#64748b">→</text>
  <text x="260" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#64748b">→</text>
  <text x="380" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#64748b">→</text>
  <text x="490" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#64748b">→</text>
  <text x="595" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#64748b">→</text>

  <!-- Actors -->
  <rect x="50" y="190" width="100" height="45" rx="6" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="100" y="210" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#93c5fd">Chat UI</text>
  <text x="100" y="225" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#60a5fa">EventSource</text>

  <rect x="200" y="190" width="120" height="45" rx="6" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="260" y="210" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Orchestrator</text>
  <text x="260" y="225" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#a5b4fc">SSE endpoint</text>

  <rect x="370" y="190" width="100" height="45" rx="6" fill="#1e1b4b" stroke="#a78bfa" stroke-width="1.5"/>
  <text x="420" y="210" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">LLM</text>
  <text x="420" y="225" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#a5b4fc">streaming</text>

  <rect x="520" y="190" width="100" height="45" rx="6" fill="#451a03" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="570" y="210" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fcd34d">Armory</text>
  <text x="570" y="225" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fbbf24">tool execution</text>

  <!-- Connection arrows -->
  <line x1="150" y1="212" x2="195" y2="212" stroke="#8b5cf6" stroke-width="1.5" marker-end="url(#sse-arrow)"/>
  <line x1="320" y1="212" x2="365" y2="212" stroke="#8b5cf6" stroke-width="1.5" marker-end="url(#sse-arrow)"/>
  <line x1="470" y1="212" x2="515" y2="212" stroke="#f59e0b" stroke-width="1.5"/>

  <!-- Legend -->
  <text x="660" y="210" text-anchor="start" font-family="system-ui, sans-serif" font-size="8" fill="#64748b">ping events</text>
  <text x="660" y="225" text-anchor="start" font-family="system-ui, sans-serif" font-size="8" fill="#64748b">for keepalive</text>
</svg>