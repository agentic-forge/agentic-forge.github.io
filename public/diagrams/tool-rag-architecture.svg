<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 380">
  <defs>
    <marker id="arch-arr" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6"/>
    </marker>
    <marker id="arch-arr-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
    <marker id="arch-arr-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="380" fill="none"/>

  <!-- Title -->
  <text x="400" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#e2e8f0">Traditional vs Tool RAG Architecture</text>

  <!-- Left Section: Traditional -->
  <rect x="20" y="45" width="370" height="320" rx="10" fill="#1a1a2e" stroke="#3b4252" stroke-width="1"/>
  <text x="205" y="70" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" font-weight="500" fill="#f87171">Traditional: All Tools in Context</text>

  <!-- Traditional LLM -->
  <rect x="50" y="100" width="120" height="70" rx="8" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="110" y="130" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#c4b5fd">LLM</text>
  <text x="110" y="150" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">Context: ~8000 tokens</text>

  <!-- Arrow to tools block -->
  <line x1="170" y1="135" x2="215" y2="135" stroke="#ef4444" stroke-width="2" marker-end="url(#arch-arr-red)"/>

  <!-- Traditional Tools Block -->
  <rect x="225" y="90" width="145" height="220" rx="8" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="297" y="115" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#fca5a5">All Tools Loaded</text>
  <text x="297" y="132" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">~3000+ tokens</text>

  <!-- Tool entries -->
  <rect x="240" y="145" width="115" height="22" rx="4" fill="#7f1d1d" stroke="#dc2626" stroke-width="1"/>
  <text x="297" y="160" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fecaca">weather__get_current</text>

  <rect x="240" y="172" width="115" height="22" rx="4" fill="#7f1d1d" stroke="#991b1b" stroke-width="1"/>
  <text x="297" y="187" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fca5a5">weather__get_forecast</text>

  <rect x="240" y="199" width="115" height="22" rx="4" fill="#7f1d1d" stroke="#991b1b" stroke-width="1"/>
  <text x="297" y="214" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fca5a5">web__search</text>

  <rect x="240" y="226" width="115" height="22" rx="4" fill="#7f1d1d" stroke="#991b1b" stroke-width="1"/>
  <text x="297" y="241" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fca5a5">web__fetch_page</text>

  <rect x="240" y="253" width="115" height="22" rx="4" fill="#7f1d1d" stroke="#991b1b" stroke-width="1"/>
  <text x="297" y="268" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fca5a5">notes__create</text>

  <text x="297" y="295" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">...</text>

  <!-- Traditional problem label -->
  <text x="110" y="200" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#f87171">Wasted context on</text>
  <text x="110" y="215" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#f87171">unused tools</text>

  <!-- Right Section: Tool RAG -->
  <rect x="410" y="45" width="370" height="320" rx="10" fill="#1a1a2e" stroke="#3b4252" stroke-width="1"/>
  <text x="595" y="70" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" font-weight="500" fill="#10b981">Tool RAG: Dynamic Discovery</text>

  <!-- Tool RAG LLM -->
  <rect x="430" y="100" width="120" height="70" rx="8" fill="#1e1b4b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="490" y="130" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#c4b5fd">LLM</text>
  <text x="490" y="150" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">Context: ~500 tokens</text>

  <!-- Arrow to search_tools -->
  <line x1="550" y1="135" x2="595" y2="135" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arch-arr)"/>

  <!-- search_tools meta-tool -->
  <rect x="605" y="105" width="100" height="60" rx="8" fill="#064e3b" stroke="#10b981" stroke-width="2"/>
  <text x="655" y="130" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#a7f3d0">search_tools</text>
  <text x="655" y="148" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6ee7b7">meta-tool</text>

  <!-- Arrow down to Vector DB -->
  <line x1="655" y1="165" x2="655" y2="195" stroke="#10b981" stroke-width="2" marker-end="url(#arch-arr-green)"/>

  <!-- Vector DB -->
  <rect x="595" y="205" width="120" height="50" rx="8" fill="#1e1b4b" stroke="#a78bfa" stroke-width="1.5"/>
  <text x="655" y="228" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#c4b5fd">Vector DB</text>
  <text x="655" y="243" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">pgvector embeddings</text>

  <!-- Arrow down to Tool Registry -->
  <line x1="655" y1="255" x2="655" y2="285" stroke="#a78bfa" stroke-width="2" marker-end="url(#arch-arr)"/>

  <!-- Tool Registry (compact) -->
  <rect x="580" y="295" width="150" height="55" rx="8" fill="#451a03" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="655" y="318" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fcd34d">Tool Registry</text>
  <text x="655" y="335" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">All tools indexed, loaded on-demand</text>

  <!-- Benefits box -->
  <rect x="430" y="200" width="130" height="80" rx="6" fill="#022c22" stroke="#059669" stroke-width="1" stroke-dasharray="4,2"/>
  <text x="495" y="222" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="#34d399">Benefits</text>
  <text x="495" y="240" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6ee7b7">~85% fewer tokens</text>
  <text x="495" y="255" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6ee7b7">Scales to 1000s of tools</text>
  <text x="495" y="270" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6ee7b7">Better tool selection</text>

  <!-- Returned tools arrow -->
  <path d="M 605 120 Q 575 120 575 155 L 490 155 L 490 170" stroke="#10b981" stroke-width="1.5" stroke-dasharray="4,2" fill="none" marker-end="url(#arch-arr-green)"/>
  <text x="540" y="190" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#6ee7b7">Relevant tools only</text>
</svg>
