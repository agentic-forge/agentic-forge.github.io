<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anvil - Agentic Forge</title>
    <meta name="description" content="Anvil is a CLI and web-based tool for testing and debugging MCP servers during development.">
    <link rel="icon" type="image/png" href="../assets/logo.png">
    <link rel="stylesheet" href="../assets/style.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <a href="../" class="logo">
                <img src="../assets/logo.png" alt="Agentic Forge Logo">
                Agentic<span>Forge</span>
            </a>
            <nav>
                <a href="../">Home</a>
                <a href="./" class="active">Docs</a>
                <a href="https://github.com/agentic-forge">GitHub</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="docs-layout">
            <aside class="docs-sidebar">
                <h4>Documentation</h4>
                <ul>
                    <li><a href="./">Architecture</a></li>
                    <li><a href="./orchestrator.html">Orchestrator</a></li>
                    <li><a href="./armory.html">Armory</a></li>
                    <li><a href="./anvil.html" class="active">Anvil</a></li>
                    <li><a href="./tool-rag.html">Tool RAG</a></li>
                    <li><a href="./interfaces.html">Interfaces</a></li>
                </ul>
            </aside>

            <article class="docs-content">
                <h1><span>Anvil</span></h1>
                <p class="lead">
                    MCP client tool for testing and debugging MCP servers. Provides both a CLI
                    for quick terminal testing and a web-based inspector for interactive exploration.
                </p>

                <h2>Why "Anvil"?</h2>
                <p>
                    In a forge, the anvil is where you test and shape your tools. Forge Anvil serves the same
                    purpose for MCP servers &mdash; it's where you test, debug, and refine your tools during development.
                </p>

                <h2>Features</h2>

                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CLI Interface</td>
                            <td>Test MCP servers directly from the command line</td>
                        </tr>
                        <tr>
                            <td>Web UI</td>
                            <td>Interactive browser-based inspector for exploring tools</td>
                        </tr>
                        <tr>
                            <td>No Build Step</td>
                            <td>Web UI is a single HTML file with Vue.js &mdash; just serve and use</td>
                        </tr>
                        <tr>
                            <td>JSON Output</td>
                            <td>Machine-readable output for scripting and automation</td>
                        </tr>
                    </tbody>
                </table>

                <h2>Installation</h2>
<pre><code># Clone the repository
git clone https://github.com/agentic-forge/forge-anvil.git
cd forge-anvil

# Install dependencies
uv sync</code></pre>

                <h2>CLI Usage</h2>

                <h3>Basic Commands</h3>
<pre><code># Show server info
anvil info --server http://localhost:8000/mcp

# List available tools
anvil list-tools

# Call a tool with arguments
anvil call get_current_weather --arg city=Berlin

# Call with JSON arguments
anvil call get_forecast --json-args '{"city": "Tokyo", "days": 3}'

# Output as JSON (for scripting)
anvil list-tools --json

# List resources and prompts
anvil list-resources
anvil list-prompts

# Check if server is responsive
anvil ping</code></pre>

                <h3>Environment Variable</h3>
                <p>Set <code>ANVIL_SERVER</code> to avoid passing <code>--server</code> every time:</p>
<pre><code>export ANVIL_SERVER=http://localhost:8000/mcp
anvil list-tools</code></pre>

                <h2>Web UI</h2>
                <p>Launch the interactive inspector:</p>
<pre><code>anvil ui --port 5000</code></pre>
                <p>Open <a href="http://localhost:5000">http://localhost:5000</a> in your browser.</p>

                <div class="architecture-diagram">
<pre>
+------------------------------------------------------------------+
|  Anvil Web UI                                        [Connect]   |
+------------------------------------------------------------------+
|  Server: http://localhost:8000/mcp              [Connected]      |
+------------------------------------------------------------------+
|                                                                  |
|  Tools (4)                    | Tool: get_current_weather        |
|  +--------------------------+ | +------------------------------+ |
|  | get_current_weather      | | | Description:                 | |
|  | get_forecast             | | | Get current weather for city | |
|  | get_air_quality          | | |                              | |
|  | geocode                  | | | Parameters:                  | |
|  +--------------------------+ | | - city (string, required)    | |
|                               | | - units (string, optional)   | |
|  Resources (0)                | |                              | |
|  Prompts (0)                  | | [Execute Tool]               | |
|                               | +------------------------------+ |
+------------------------------------------------------------------+
</pre>
                </div>

                <h2>Example: Testing mcp-weather</h2>

                <h3>Terminal 1 &mdash; Start the MCP server:</h3>
<pre><code>cd /path/to/agentic-forge/mcp-servers/mcp-weather
uv sync
uv run python -m forge_mcp_weather
# Server starts at http://localhost:8000/mcp</code></pre>

                <h3>Terminal 2 &mdash; Use Anvil to test:</h3>
<pre><code># Set the server URL
export ANVIL_SERVER=http://localhost:8000/mcp

# Check server info
anvil info

# List available tools
anvil list-tools

# Get current weather
anvil call get_current_weather --arg city=Berlin

# Get weather with imperial units
anvil call get_current_weather --arg city="New York" --arg units=imperial

# Get 5-day forecast
anvil call get_forecast --json-args '{"city": "Tokyo", "days": 5}'

# Get air quality
anvil call get_air_quality --arg city=Beijing</code></pre>

                <h2>Integration with Forge MCP Servers</h2>
                <p>
                    Anvil works with any MCP server, but integrates seamlessly with Forge MCP servers
                    built with FastMCP:
                </p>
<pre><code># Start any Forge MCP server
uv run python -m forge_mcp_&lt;server_name&gt;

# Test with Anvil
anvil list-tools --server http://localhost:8000/mcp</code></pre>

                <h2>Use Cases</h2>

                <table>
                    <thead>
                        <tr>
                            <th>Scenario</th>
                            <th>Command</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Quick health check</td>
                            <td><code>anvil ping</code></td>
                        </tr>
                        <tr>
                            <td>Discover available tools</td>
                            <td><code>anvil list-tools</code></td>
                        </tr>
                        <tr>
                            <td>Test a specific tool</td>
                            <td><code>anvil call &lt;tool&gt; --arg key=value</code></td>
                        </tr>
                        <tr>
                            <td>Interactive exploration</td>
                            <td><code>anvil ui</code></td>
                        </tr>
                        <tr>
                            <td>CI/CD integration</td>
                            <td><code>anvil list-tools --json</code></td>
                        </tr>
                    </tbody>
                </table>

                <h2>Links</h2>
                <p>
                    <a href="https://github.com/agentic-forge/forge-anvil">GitHub Repository</a>
                </p>
            </article>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Agentic Forge &copy; 2025 &middot; <a href="https://github.com/agentic-forge">GitHub</a></p>
        </div>
    </footer>
</body>
</html>
